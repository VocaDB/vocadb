@using VocaDb.Model.Domain
@using VocaDb.Model.Domain.Songs
@using VocaDb.Web.Code
@using VocaDb.Web.Helpers
@using VocaDb.Web.Models.Shared
@using VocaDb.Web.Models.Shared.Partials.ArchivedEntry
@model VocaDb.Model.DataContracts.Songs.ServerOnlySongListWithArchivedVersionsContract

@{
	PageProperties.Title = ViewRes.EntryDetailsStrings.Revisions + " - " + Model.Name;
	PageProperties.Robots = PagePropertiesData.Robots_Noindex_Nofollow;
	ViewBag.Parents = new[] {
		Html.ActionLink(Model.Name, "Details", new { id = Model.Id })
	};
}

<partial name="Partials/ArchivedEntry/_CurrentVersionMessage" model="@(new CurrentVersionMessageViewModel(Model.Version, EntryStatus.Finished))" />

<partial name="Partials/ArchivedEntry/_ArchivedObjectVersions" model="@(new ArchivedObjectVersionsViewModel(Model.ArchivedVersions.Select(a => new ArchivedObjectVersion(a, Translate.SongListEditableFieldNames.GetAllNameNames(a.ChangedFields, SongListEditableFields.Nothing)))))" />